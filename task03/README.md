# Задание №3

Добавьте в проект ModelLib указанную в варианте модель, следуя принципам объектно-ориентированного программирования:

1. Абстракция — интерфейс не раскрывает детали реализации, если они не важны для остального кода программы
2. Инкапсуляция — защита внутреннего состояния класса от прямого изменения
3. Соблюдаются инварианты — то есть внутреннее состояние созданного объекта должно всегда быть корректным
    - при попытке создать объект с некорректным состоянием бросается исключение
    - при попытке привести объект в некорректное состояние бросается исключение

> Инвариант — это требование к внутреннему состоянию объекта, которое выполняется как после конструирования, так и после любых изменений объекта.

Следует покрыть каждый добавляемый класс модульными тестами на XUnit, которые проверяют:

1. Все методы и свойства — минимум по одному разу
2. Все инварианты класса — минимум по одному разу
3. Все пограничные случаи, которые вы сможете выявить

# Варианты задания №3

> Вариант назначается преподавателем индивидуально.

## 2. Контакты

Спроектируйте и реализуйте класс `PhoneNumber`, представляющий телефонный номер в международном формате:

- Допускаются номера с символом `+` в начале и без него, например:
    - `+7 (8362) 45-02-72` → номер `+78362450272`
    - `7 (8362) 45-02-72` → номер `+78362450272`
    - `8 (8362) 45-02-72` → номер `+88362450272`
- Допускаются номера с добавочным (внутренним) номером после `x`, например:
    - `1-234-567-8901 x1234` → номер `+12345678901`, добавочный `1234`

В классе `PhoneNumber` должны быть:

- Конструктор `PhoneNumber(string text)`, создающий номер телефона из текстового представления
    - удаляет символы ` `, `-`, `(`, `)` (пробелы, дефисы, круглые скобки)
    - проверяет оставшиеся символы на соответствие формату
    - сохраняет отдельно основной номер и добавочный номер
- Свойство `string Number`, возвращающее строку номера телефона с символом `+` в начале, но без добавочного номера
- Свойство `string Ext`, возвращающее добавочный номер либо пустую строку
- Метод `ToString()`, возвращающий строку номера телефона с символом `+` в начале
    - Пример: `+78362450272` — когда нет добавочного номера
    - Пример: `+12345678901x1234` — когда есть добавочный номер

На основе класса `PhoneNumber` спроектируйте и реализуйте модель `Contact`:

1. Контакт имеет свойства `string FirstName`, `string MiddleName` и `string LastName`, в которых указаны соответственно имя, отчество и фамилия контакта
    - свойство `FirstName` не может быть пустой строкой
2. Контакт может иметь 0, 1 или несколько номеров телефона
    - один из номеров всегда помечен как основной (primary), кроме случая, когда нет ни одного номера
    - свойство `List<PhoneNumber> PhoneNumbers` возвращает все номера телефонов
    - свойство `PhoneNumber? PrimaryPhoneNumber` возвращает основной номер телефона
    - метод `AddPhoneNumber(PhoneNumber value)` добавляет номер телефона либо ничего не делает, если номер уже был
    - метод `RemovePhoneNumber(PhoneNumber value)` удаляет номер телефона
    - метод `SetPrimaryPhoneNumber(PhoneNumber value)` меняет основной номер телефона
